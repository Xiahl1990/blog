{"meta":{"title":"夏红林","subtitle":null,"description":"夏红林的个人博客","author":"夏红林","url":"http://xiahl.top"},"pages":[{"title":"About","date":"2016-06-27T13:31:53.146Z","updated":"2016-06-27T13:31:53.146Z","comments":false,"path":"about/index.html","permalink":"http://xiahl.top/about/index.html","excerpt":"","text":"hexo-theme-tianxiamucun&emsp;&emsp;Theme tianxiamucun relies on Hexo-Theme-icarus and AdminLTE, thanks for the author ppoffice and Almsaeed Studio. Fix some bugs, change lots of styles, add several features. And then I made the theme. tianxiamucun is mainly designed for fluent text reading. I change styles and add functions, meanwhile, try hard to keep this theme simple, stupid and clear. Theme DEMO: Xiahl1990’s Blog"},{"title":"Categories","date":"2016-06-27T12:27:36.068Z","updated":"2016-06-27T12:27:36.068Z","comments":false,"path":"categories/index.html","permalink":"http://xiahl.top/categories/index.html","excerpt":"","text":""},{"title":"Editor","date":"2016-06-28T13:51:37.225Z","updated":"2016-06-28T13:51:37.225Z","comments":true,"path":"editor/index.html","permalink":"http://xiahl.top/editor/index.html","excerpt":"","text":""},{"title":"","date":"2016-06-28T15:12:33.038Z","updated":"2016-06-28T15:08:26.259Z","comments":true,"path":"resources/duosuo.css","permalink":"http://xiahl.top/resources/duosuo.css","excerpt":"","text":"/*More info: http://moxfive.xyz/2015/09/29/duosuo-style*/ /*UA Start*/ span.ua { display: inline-block !important; margin: auto 1px .3em !important; color: #fff !important; } .os_other { background-color: #bdb2a7!important; color: #fff; border: 1px solid #BBB!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_other { background-color: #bdb2a7!important; color: #fff; border: 1px solid #BBB!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_other { opacity: 1; } .os_other:hover { opacity: 1; } .ua_ie { background-color: #428bca!important; border-color: #357ebd!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_ie:hover { opacity: 1; } .ua_firefox { background-color: #f0ad4e!important; border-color: #eea236!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_firefox:hover { opacity: 1; } .ua_maxthon { background-color: #7373B9!important; border-color: #7373B9!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_maxthon:hover { opacity: 1; } .ua_ucweb { background-color: #FF740F!important; border-color: #d43f3a!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_ucweb:hover { opacity: 1; } .ua_sogou { background-color: #78ACE9!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_sogou:hover { opacity: 1; } .ua_2345explorer { background-color: #2478B8!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_2345explorer:hover { opacity: 1; } .ua_2345chrome { background-color: #F9D024!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_2345chrome:hover { opacity: 1; } .ua_mi { background-color: #FF4A00!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_mi:hover { opacity: 1; } .ua_lbbrowser { background-color: #FC9D2E!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_lbbrowser:hover { opacity: 1; } .ua_chrome { background-color: #EE6252!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_chrome:hover { opacity: 1; } .ua_qq { background-color: #3D88A8!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_qq:hover { opacity: 1; } .ua_apple { background-color: #E95620!important; border-color: #4cae4c!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_apple:hover { opacity: 1; } .ua_opera { background-color: #d9534f!important; border-color: #d43f3a!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .ua_opera:hover { opacity: 1; } .os_vista,.os_2000,.os_windows,.os_xp,.os_7,.os_8,.os_8_1 { background-color: #39b3d7!important; border-color: #46b8da!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .os_vista:hover,.os_2000:hover,.os_windows:hover,.os_xp:hover,.os_7:hover,.os_8:hover,.os_8_1:hover { opacity: 1; } .os_android { background-color: #98C13D!important; border-color: #01B171!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .os_android:hover { opacity: 1; } .os_ubuntu { background-color: #DD4814!important; border-color: #01B171!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .os_ubuntu:hover { opacity: 1; } .os_linux { background-color: #3A3A3A!important; border-color: #1F1F1F!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .os_linux:hover { opacity: 1; } .os_mac { background-color: #666666!important; border-color: #1F1F1F!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .os_mac:hover { opacity: 1; } .os_unix { background-color: #006600!important; border-color: #1F1F1F!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .os_unix:hover { opacity: 1; } .os_nokia { background-color: #014485!important; border-color: #1F1F1F!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .os_nokia:hover { opacity: 1; } /*UA End*/ /*博主标记*/ .sskadmin { background-color: #00a67c!important; border-color: #01B171!important; border-radius: 4px; padding: 0 5px!important; opacity: .4; } .sskadmin:hover { opacity: 1; } /*头像样式*/ #ds-reset .ds-avatar{background:none !important; box-shadow:none !important;} #ds-reset .ds-avatar img , #ds-thread #ds-reset ul.ds-children .ds-avatar img{width:50px !important;height: 50px !important;-webkit-transition: .9s;-moz-transition: .9s;-o-transition: .9s;-ms-transition: .9s;padding: 2px;border: 1px solid #ddd;background: #fff;} /*鼠标悬停旋转头像*/ .ds-post:hover .ds-avatar img{transform:rotate(360deg);-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg);border-radius:30px !important;} #ds-reset .ds-avatar img:hover{transform:rotate(360deg);-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);-ms-transform:rotate(360deg);border-radius:30px !important;} /*通用样式*/ #ds-thread #ds-reset .ds-comment-body, #ds-thread #ds-reset ul.ds-children .ds-comment-body{padding-left:70px !important;} #ds-thread #ds-reset .ds-comment-body, #ds-thread #ds-reset ul.ds-children .ds-comment-body{padding-left:70px !important;} .ds-post:hover{background:#eee !important;} #ds-thread #ds-reset ul.ds-children .ds-avatar{width:50px !important;} #ds-thread #ds-reset .ds-replybox{padding: 0 0 0 80px !important;} #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-body{margin-left: 68px !important;} #ds-recent-comments li.ds-comment:nth-of-type(1){border:none !important;} #ds-thread{ border-radius: 3px; } /** 多说最近留言样式 **/ #ds-recent-comments .ds-avatar img{ width:54px;height:54px; border-radius: 50%; -webkit-border-radius: 50%; -moz-border-radius: 50%; box-shadow: inset 0 -1px 0 #3333sf;/*设置图像阴影效果*/ -webkit-box-shadow: inset 0 -1px 0 #3333sf; -webkit-transition: 0.4s; -webkit-transition: -webkit-transform 0.4s ease-out; transition: transform 0.4s ease-out; -moz-transition: -moz-transform 0.4s ease-out; } #ds-recent-comments .ds-avatar img:hover{ box-shadow: 0 0 10px #fff; rgba(255,255,255,.6), inset 0 0 20px rgba(255,255,255,1); -webkit-box-shadow: 0 0 10px #fff; rgba(255,255,255,.6), inset 0 0 20px rgba(255,255,255,1); transform: rotateZ(360deg); -webkit-transform: rotateZ(360deg); -moz-transform: rotateZ(360deg); } /*喜欢按钮样式*/ .ds-meta { opacity: .5; } .ds-meta:hover { opacity: 1; } #ds-thread #ds-reset a.ds-like-thread-button { background-image: none; background-color: #fee2d3; border: none; text-shadow: none; font-family: inherit; } /*社交账号登陆透明度*/ #ds-thread #ds-reset .ds-login-buttons { opacity: .45 !important; } #ds-thread #ds-reset .ds-login-buttons:hover { opacity: 1 !important; } /*评论、文本框字体*/ #ds-thread #ds-reset .ds-comment-body p, #ds-thread #ds-reset .ds-textarea-wrapper textarea { font-size: 1.15em; color: #717171; font-family: inherit; } /*用户名等超链接颜色*/ #ds-thread #ds-reset .ds-highlight { color: #ef7c6c !important; } /*未登录用户名字颜色*/ #ds-thread #ds-reset .ds-user-name { color: #ef7c6c !important; } /*输入框背景*/ #ds-thread #ds-reset .ds-textarea-wrapper textarea { background: url(\"/resources/Mihawk-s.png\") bottom right no-repeat; } /*评论框背景*/ #ds-thread #ds-reset .ds-textarea-wrapper { background: rgba(255, 255, 255, .5); } /*工具栏背景*/ #ds-reset .ds-gradient-bg { background: rgba(255, 255, 255, .5); } /*\"发布\"按钮背景*/ #ds-thread #ds-reset .ds-post-button { background-image: none; background: rgba(136, 172, 219, .2); text-shadow: none; } /*评论列表背景*/ #ds-thread #ds-reset li.ds-post { background: rgba(255, 255, 255, .2); } #ds-thread #ds-reset li.ds-post:hover { background-color: rgba(255, 255, 255, .5) !important; } /*评论数标签*/ #ds-thread #ds-reset li.ds-tab a.ds-current { background: rgba(255, 255, 255, .2); }"},{"title":"Tags","date":"2016-06-27T12:27:40.506Z","updated":"2016-06-27T12:27:40.506Z","comments":false,"path":"tags/index.html","permalink":"http://xiahl.top/tags/index.html","excerpt":"","text":""},{"title":"","date":"2016-06-28T15:12:33.042Z","updated":"2016-06-28T15:08:26.262Z","comments":true,"path":"resources/embed.js","permalink":"http://xiahl.top/resources/embed.js","excerpt":"","text":"//HelloDog - http://wsgzao.github.io/post/duoshuo/ //More info: http://moxfive.xyz/2015/09/29/duosuo-style //移动客户端判断开始 function checkMobile() { var isiPad = navigator.userAgent.match(/iPad/i) != null; if (isiPad) { return false; } var isMobile = navigator.userAgent.match(/iphone|android|phone|mobile|wap|netfront|java|opera mobi|opera mini|ucweb|windows ce|symbian|symbianos|series|webos|sony|blackberry|dopod|nokia|samsung|palmsource|xda|pieplus|meizu|midp|cldc|motorola|foma|docomo|up.browser|up.link|blazer|helio|hosin|huawei|novarra|coolpad|webos|techfaith|palmsource|alcatel|amoi|ktouch|nexian|ericsson|philips|sagem|wellcom|bunjalloo|maui|smartphone|iemobile|spice|bird|zte-|longcos|pantech|gionee|portalmmm|jig browser|hiptop|benq|haier|^lct|320x320|240x320|176x220/i) != null; if (isMobile) { return true; } return false; } //移动客户端判断结束 //管理员判断开始 function sskadmin(e) { var ssk = ''; if (e.user_id == 13232586) { if (checkMobile()) { ssk = '博主'; } else { ssk = '博主'; } } else { if (checkMobile()) { ssk = ''; } } return ssk; } //管理员判断结束 //显UA开始 function ua(e) { var r = new Array; var outputer = ''; if (r = e.match(/FireFox\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' FireFox' } else if (r = e.match(/Maxthon([\\d]*)\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' Maxthon' } else if (r = e.match(/BIDUBrowser([\\d]*)\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' 百度浏览器' } else if (r = e.match(/UBrowser([\\d]*)\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' UCBrowser' } else if (r = e.match(/UCBrowser([\\d]*)\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' UCBrowser' } else if (r = e.match(/MetaSr/ig)) { outputer = ' 搜狗浏览器' } else if (r = e.match(/2345Explorer/ig)) { outputer = ' 2345王牌浏览器' } else if (r = e.match(/2345chrome/ig)) { outputer = ' 2345加速浏览器' } else if (r = e.match(/LBBROWSER/ig)) { outputer = ' 猎豹安全浏览器' } else if (r = e.match(/MicroMessenger\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' 微信' /*.split('/')[0]*/ } else if (r = e.match(/QQBrowser\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' QQ浏览器' /*.split('/')[0]*/ } else if (r = e.match(/QQ\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' QQ浏览器' /*.split('/')[0]*/ } else if (r = e.match(/MiuiBrowser\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' Miui浏览器' /*.split('/')[0]*/ } else if (r = e.match(/Chrome([\\d]*)\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' Chrome' /*.split('.')[0]*/ } else if (r = e.match(/safari\\/([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' Safari' } else if (r = e.match(/Opera[\\s|\\/]([^\\s]+)/ig)) { var r1 = r[0].split(\"/\"); outputer = ' Opera' } else if (r = e.match(/Trident\\/7.0/gi)) { outputer = ' IE 11' } else if (r = e.match(/MSIE\\s([^\\s|;]+)/gi)) { outputer = ' IE' + ' ' + r[0] /*.replace('MSIE', '').split('.')[0]*/ } else { outputer = ' 其它浏览器' } if (checkMobile()) { Mobile = ''; } else { Mobile = ''; } return outputer + \"\" + Mobile; } function os(e) { var os = ''; if (e.match(/win/ig)) { if (e.match(/nt 5.1/ig)) { os = ' Windows XP' } else if (e.match(/nt 6.1/ig)) { os = ' Windows 7' } else if (e.match(/nt 6.2/ig)) { os = ' Windows 8' } else if (e.match(/nt 6.3/ig)) { os = ' Windows 8.1' } else if (e.match(/nt 10.0/ig)) { os = ' Windows 10' } else if (e.match(/nt 6.0/ig)) { os = ' Windows Vista' } else if (e.match(/nt 5/ig)) { os = ' Windows 2000' } else { os = ' Windows' } } else if (e.match(/android/ig)) { os = ' Android' } else if (e.match(/ubuntu/ig)) { os = ' Ubuntu' } else if (e.match(/linux/ig)) { os = ' Linux' } else if (e.match(/mac/ig)) { os = ' Mac OS X' } else if (e.match(/unix/ig)) { os = ' Unix' } else if (e.match(/symbian/ig)) { os = ' Nokia SymbianOS' } else { os = ' 其它操作系统' } return os + \"\"; } //显UA结束 (function(e, t, n) { function at(e, t) { for (var n in t) t[n] && (e[n] ? e[n].set(t[n]) : e[n] = new et(t[n])) } function ft(e, t) { for (var n in t) e[n] = t[n] } function lt() { if (u.checkPermission()) return; var t; while (t = O.shift()) { var n = u.createNotification(t.iconUrl, t.title, t.body), i = t.url; try { n.onclick = function() { e.focus(), r.href = i, n.cancel() } } catch(s) {} n.show(), setTimeout(function() { n.cancel && n.cancel() }, 8e3) } } function ct() { return rt.data.user_id == 0 } function ht(e, t, n) { if (o) try { o.removeItem(e), o.removeItem(e + \":timestamp\"), o[e] = i.stringify(t), o[e + \":timestamp\"] = Math.floor(n) } catch(r) {} } function pt(e) { w.theme = e, e != \"none\" && w.injectStylesheet(b + \"/styles/embed\" + (e ? \".\" + e + \".css?\" + y[e] : \".\" + short_name) + \".css\") } if (e.DUOSHUO) return; var r = e.location, i = e.JSON, s = e.XMLHttpRequest, o = i && i.stringify && e.localStorage, u = e.webkitNotifications, a = t.getElementsByTagName(\"head\")[0] || t.getElementsByTagName(\"body\")[0], f = e.navigator.userAgent, l = t.location.protocol == \"https:\" ? \"https:\": \"http:\", c = 0, h, p = function() { var e = { \"\": \"&gt;\", '\"': \"&quot;\", \"'\": \"&#x27;\", \"`\": \"&#x60;\" }, t = /&(?!\\w+;)|[\"'`]/g, n = /[&\"'`]/, r = function(t) { return e[t] || \"&amp;\" }; return function(e) { return e == null || e === !1 ? \"\": n.test(e) ? e.replace(t, r) : e } } (), d = function(e) { if (e.match(/^(http|https):/)) return e; var n = t.createElement(\"a\"); return n.href = e, x.hrefNormalized ? n.href: n.getAttribute(\"href\", 4) }, v = { start: 0, end: 0 }, m = function(e) { var n = this, r = 0, i = 0, s, o, u, a, f; t.selection && (o = t.selection.createRange(), o && o.parentElement() == n && (a = n.value.length, s = n.value.replace(/\\r\\n/g, \"\\n\"), u = n.createTextRange(), u.moveToBookmark(o.getBookmark()), f = n.createTextRange(), f.collapse(!1), u.compareEndPoints(\"StartToEnd\", f) > -1 ? r = i = a: (r = -u.moveStart(\"character\", -a), r += s.slice(0, r).split(\"\\n\").length - 1, u.compareEndPoints(\"EndToEnd\", f) > -1 ? i = a: (i = -u.moveEnd(\"character\", -a), i += s.slice(0, i).split(\"\\n\").length - 1)))), v.start = r, v.end = i }, g = function(e) { return function() { return e } }, y = { \"default\": \"d6149e1c\", dark: \"c11b5925\", bluebox: \"dbc0a9af\" }, b = l + \"//static.duoshuo.com\", w = e.DUOSHUO = { DOMAIN: \"duoshuo.com\", REMOTE: \"http://duoshuo.com\", version: 140327, loaded: { jQuery: typeof jQuery != \"undefined\" && jQuery.fn.jquery >= \"1.5\", smilies: !1, mzadxN: typeof mzadxN != \"undefined\" }, libs: { jQuery: b + \"/libs/embed.compat.js?24f8ca3f.js\", smilies: b + \"/libs/smilies.js?921e8eda.js\", mzadxN: \"http://js.miaozhen.com/mz_ad_serving.js\" }, sourceName: { weibo: \"\\u65b0\\u6d6a\\u5fae\\u535a\", qq: \"QQ\", qzone: \"QQ\\u7a7a\\u95f4\", qqt: \"\\u817e\\u8baf\\u5fae\\u535a\", renren: \"\\u4eba\\u4eba\\u7f51\", douban: \"\\u8c46\\u74e3\\u7f51\", netease: \"\\u7f51\\u6613\\u5fae\\u535a\", kaixin: \"\\u5f00\\u5fc3\\u7f51\", sohu: \"\\u641c\\u72d0\\u5fae\\u535a\", baidu: \"\\u767e\\u5ea6\", taobao: \"\\u6dd8\\u5b9d\", msn: \"MSN\", google: \"\\u8c37\\u6b4c\" }, serviceNames: { weibo: \"\\u5fae\\u535a\", qq: \"QQ\", douban: \"\\u8c46\\u74e3\", renren: \"\\u4eba\\u4eba\", netease: \"\\u7f51\\u6613\", kaixin: \"\\u5f00\\u5fc3\", sohu: \"\\u641c\\u72d0\", baidu: \"\\u767e\\u5ea6\", taobao: \"\\u6dd8\\u5b9d\", msn: \"MSN\", google: \"\\u8c37\\u6b4c\" }, parseDate: function(e) { return e.parse(\"2011-10-28T00:00:00+08:00\") && function(t) { return new e(t) } || e.parse(\"2011/10/28T00:00:00+0800\") && function(t) { return new e(t.replace(/-/g, \"/\").replace(/:(\\d\\d)$/, \"$1\")) } || e.parse(\"2011/10/28 00:00:00+0800\") && function(t) { return new e(t.replace(/-/g, \"/\").replace(/:(\\d\\d)$/, \"$1\").replace(\"T\", \" \")) } || function(t) { return new e(t) } } (Date), fullTime: function(e) { var t = w.parseDate(e); return t.getFullYear() + \"\\u5e74\" + (t.getMonth() + 1) + \"\\u6708\" + t.getDate() + \"\\u65e5 \" + t.toLocaleTimeString() }, elapsedTime: function(e) { var t = w.parseDate(e), n = new Date, r = (n - c - t) / 1e3; return r < 10 ? \"\\u521a\\u521a\": r < 60 ? Math.round(r) + \"\\u79d2\\u524d\": r < 3600 ? Math.round(r / 60) + \"\\u5206\\u949f\\u524d\": r < 86400 ? Math.round(r / 3600) + \"\\u5c0f\\u65f6\\u524d\": (n.getFullYear() == t.getFullYear() ? \"\": t.getFullYear() + \"\\u5e74\") + (t.getMonth() + 1) + \"\\u6708\" + t.getDate() + \"\\u65e5\" }, require: function(e, t) { if (typeof e == \"string\") w.loaded[e] ? t() : F(w.libs[e], function() { w.loaded[e] = !0, t() }); else if (typeof e == \"object\") { var n, r = !0; for (n = 0; n < e.length; n++)(function(i) { if (w.loaded[e[n]]) return; r = !1, F(w.libs[i], function() { w.loaded[i] = !0; for (var n = 0; n < e.length; n++) if (!w.loaded[e[n]]) return; t() }) })(e[n]); r && t() } }, getCookie: function(e) { var r = \" \" + e + \"=\", i = t.cookie.split(\";\"), s = 0, o, u, a; for (; s < i.length; s++) { o = \" \" + i[s], u = o.indexOf(r); if (u >= 0 && u + r.length == (a = o.indexOf(\"=\") + 1)) return decodeURIComponent(o.substring(a, o.length).replace(/\\+/g, \"\")) } return n }, param: function(e) { var t = []; for (var r in e) e[r] != n && t.push(r + \"=\" + encodeURIComponent(e[r])); return t.join(\"&\") }, ajax: function(e, t, r, o, u) { var a = w.getCookie(\"duoshuo_token\"); r.v = w.version, a ? r.jwt = a: z.remote_auth && (r.remote_auth = z.remote_auth); if (s && i && i.parse) { var f = new s; if ( !! f && \"withCredentials\" in f) { var l; function c(e, t, n, r) { var s, a, f, l = t; if (e >= 200 && e < 300 || e === 304) if (e === 304) l = \"notmodified\", s = !0; else try { a = i.parse(n), l = \"success\", s = !0 } catch(c) { l = \"parsererror\", f = c } else { f = l; if (!l || e) l = \"error\", e < 0 && (e = 0); try { a = i.parse(n) } catch(c) { l = \"parsererror\", f = c } } s ? o(a) : l === \"parseerror\" ? I(\"\\u89e3\\u6790\\u9519\\u8bef: \" + n) : (u && u(a), I(\"\\u51fa\\u9519\\u5566(\" + a.code + \"): \" + a.errorMessage), a.errorTrace && I(a.errorTrace)) } f.open(e, w.hostUrl + t + \".json\" + (e == \"GET\" ? \"?\" + w.param(r) : \"\"), !0), f.withCredentials = !0, f.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\"), f.send(e == \"GET\" ? null: w.param(r)), l = function(e, t) { var r, i, s, o; try { if (l && (t || f.readyState === 4)) { l = n; if (t) f.readyState !== 4 && f.abort(); else { r = f.status, s = f.getAllResponseHeaders(); try { o = f.responseText } catch(e) {} try { i = f.statusText } catch(u) { i = \"\" } } } } catch(a) { t || c( - 1, a) } o && c(r, i, o, s) }, f.readyState === 4 ? l() : f.onreadystatechange = l; return } } e != \"GET\" && (r._method = \"POST\"); var h = \"cb_\" + Math.round(Math.random() * 1e6); w[h] = function(e) { switch (e.code) { case 0: o(e); break; default: u && u(e), I(\"\\u51fa\\u9519\\u5566(\" + e.code + \"): \" + e.errorMessage), e.errorTrace && I(e.errorTrace) } }, r.callback = \"DUOSHUO['\" + h + \"']\", F(w.hostUrl + t + \".jsonp?\" + w.param(r)) }, injectStylesheet: function(e) { var n = t.createElement(\"link\"); n.type = \"text/css\", n.rel = \"stylesheet\", n.href = e, a.appendChild(n) }, setCustomStyle: function(e) { h || (h = t.createElement(\"style\"), h.type = \"text/css\", a.appendChild(h)), e = e.replace(/\\}/g, \"}\\n\"); if (h.styleSheet) h.styleSheet.cssText = e; else { while (h.firstChild) h.removeChild(h.firstChild); h.appendChild(t.createTextNode(e)) } }, compileStyle: function(e) { var t = \"\", n = { textbox: \"#ds-thread #ds-reset .ds-replybox .ds-textarea-wrapper\" }; if (e) for (var r in e) t += n[r] + \"{\" + e[r] + \"}\\n\"; return t }, init: function(e, t) { e && !N[e] && (N[e] = t || { type: \"EmbedThread\" }), w.initView && w.initView() } }, E = t.all, S, x = w.support = function() { var n = t.createElement(\"div\"); n.innerHTML = 'a'; var i = n.getElementsByTagName(\"a\")[0], o = n.getElementsByTagName(\"input\")[0], u = { placeholder: \"placeholder\" in o, touch: \"ontouchstart\" in e || \"onmsgesturechange\" in e, hrefNormalized: i.getAttribute(\"href\") === \"/a\", iOS: f.match(/ \\((iPad|iPhone|iPod);( U;)? CPU( iPhone)? OS /), android: f.match(/ \\(Linux; U; Android /) }; return S = !s && typeof n.style.maxHeight == \"undefined\", u.authInWin = e.postMessage && e.screen.width > 800 && !u.iOS && !u.android && r.origin, u } (), T = function(e, n) { var r = (t.body || t.documentElement).style; if (typeof r == \"undefined\") return ! 1; if (typeof r[e] == \"string\") return n ? e: !0; var i = [\"Moz\", \"Webkit\", \"ms\"], e = e.charAt(0).toUpperCase() + e.substr(1), s = 0; for (; s < i.length; s++) if (typeof r[i[s] + e] == \"string\") return n ? i[s] + e: !0 }, N = w.selectors = { \".ds-thread\": { type: \"EmbedThread\" }, \".ds-recent-comments\": { type: \"RecentComments\" }, \".ds-recent-visitors\": { type: \"RecentVisitors\" }, \".ds-top-users\": { type: \"TopUsers\" }, \".ds-top-threads\": { type: \"TopThreads\" }, \".ds-login\": { type: \"LoginWidget\" }, \".ds-thread-count\": { type: \"ThreadCount\" } }, C = w.pagelets = [], k = { post: \"\\u53d1\\u5e03\", posting: \"\\u6b63\\u5728\\u53d1\\u5e03\", settings: \"\\u8bbe\\u7f6e\", reply: \"\\u56de\\u590d\", like: \"\\u9876\", repost: \"\\u8f6c\\u53d1\", report: \"\\u4e3e\\u62a5\", \"delete\": \"\\u5220\\u9664\", reply_to: \"\\u56de\\u590d \", reposts: \"\\u8f6c\\u53d1\", comments: \"\\u8bc4\\u8bba\", floor: \"\\u697c\", latest: \"\\u6700\\u65b0\", earliest: \"\\u6700\\u65e9\", hottest: \"\\u6700\\u70ed\", share_to: \"\\u5206\\u4eab\\u5230:\", leave_a_message: \"\\u8bf4\\u70b9\\u4ec0\\u4e48\\u5427\\u2026\", no_comments_yet: \"\\u8fd8\\u6ca1\\u6709\\u8bc4\\u8bba\\uff0c\\u6c99\\u53d1\\u7b49\\u4f60\\u6765\\u62a2\", repost_reason: \"\\u8bf7\\u8f93\\u5165\\u8f6c\\u53d1\\u7406\\u7531\", hot_posts_title: \"\\u88ab\\u9876\\u8d77\\u6765\\u7684\\u8bc4\\u8bba\", comments_zero: \"\\u6682\\u65e0\\u8bc4\\u8bba\", comments_one: \"1\\u6761\\u8bc4\\u8bba\", comments_multiple: \"{num}\\u6761\\u8bc4\\u8bba\", reposts_zero: \"\\u6682\\u65e0\\u8f6c\\u53d1\", reposts_one: \"1\\u6761\\u8f6c\\u53d1\", reposts_multiple: \"{num}\\u6761\\u8f6c\\u53d1\", weibo_reposts_zero: \"\\u6682\\u65e0\\u65b0\\u6d6a\\u5fae\\u535a\", weibo_reposts_one: \"1\\u6761\\u65b0\\u6d6a\\u5fae\\u535a\", weibo_reposts_multiple: \"{num}\\u6761\\u65b0\\u6d6a\\u5fae\\u535a\", qqt_reposts_zero: \"\\u6682\\u65e0\\u817e\\u8baf\\u5fae\\u535a\", qqt_reposts_one: \"1\\u6761\\u817e\\u8baf\\u5fae\\u535a\", qqt_reposts_multiple: \"{num}\\u6761\\u817e\\u8baf\\u5fae\\u535a\" }, L = function(e, t, n, r) { w.ajax(\"GET\", e, t, n || function() {}, r) }, A = function(e, t, n, r) { w.ajax(\"POST\", e, t, n || function() {}, r) }, O = [], M, _ = [], D = function(t) { if (! (\"WebSocket\" in e && i)) return ! 1; _.push(i.stringify(t)), M || (M = w.webSocket = new WebSocket(\"ws://ws.duoshuo.com:8201/\"), M.onopen = function() { var e; if (M.readyState === 1) while (e = _.shift()) M.send(e) }, M.onmessage = function(e) { try { var t = 0, n, r = i.parse(e.data) } catch(s) { return } switch (r.type) { case \"post\": for (; t < w.pagelets.length; t++) n = w.pagelets[t], n.threadId == r.thread_id && n.onMessage(r); break; case \"notification\": O.push(r), lt(); break; default: } }, e.addEventListener(\"beforeunload\", function() { M.close() })), M.onopen() }, P = w.Collections = {}, H = w.Views = {}, B = w.Callbacks = {}, j = w.openDialog = function(e) { return w.dialog !== n && w.dialog.el.remove(), w.dialog = (new H.Dialog('' + e + '\\u793e\\u4f1a\\u5316\\u8bc4\\u8bba\\u6846')).open() }, F = w.injectScript = function(r, i) { var s = t.createElement(\"script\"), o = t.head || t.getElementsByTagName(\"head\")[0] || t.documentElement; s.type = \"text/javascript\", s.src = r, s.async = \"async\", s.charset = \"utf-8\", i && (s.onload = s.onreadystatechange = function(t, r) { if (r || !s.readyState || /loaded|complete/.test(s.readyState)) s.onload = s.onreadystatechange = null, o && s.parentNode && o.removeChild(s), s = n, r || i.call(e) }), o.insertBefore(s, o.firstChild) }, I = w.log = function(e) { typeof console == \"object\" && console.log(e) }, q = w.smilies = {}, R = [\"EmbedThread\", \"RecentComments\", \"RecentVisitors\", \"TopUsers\", \"TopThreads\", \"LoginWidget\", \"ThreadCount\"], U = 0, z, W = function() { var e = {}, t = 0; for (; t < arguments.length; t++) arguments[t] && ft(e, arguments[t]); var n = w.param(e); return n ? \"?\" + n: \"\" }, X = function() { var e = w.getCookie(\"duoshuo_token\"); return e ? { jwt: e }: z.remote_auth ? { short_name: z.short_name, remote_auth: z.remote_auth }: n }, V = function() { return ! z && (z = e.duoshuoQuery) && tt.trigger(\"queryDefined\"), z }; for (var $ in Object.prototype) return alert(\"Object.prototype\\u4e0d\\u4e3a\\u7a7a\\uff0c\\u8bf7\\u4e0d\\u8981\\u7ed9Object.prototype\\u8bbe\\u7f6e\\u65b9\\u6cd5\"); var J = w.templates = { userUrl: function(e) { return e.url }, avatarUrl: function(e, t) { return e.avatar_url || nt.data.default_avatar_url }, userAnchor: function(e) { var t = J.userUrl(e); return t ? '' + p(e.name) + \"\": p(e.name) }, avatarImg: function(e, t) { return ' ' + k.share_to + \"\" + s: \"\") + \"\" + \"\" + '' + p(k.post) + \"\" + '' + (n.use_smilies ? '': \"\") + (n.use_images && n.parse_html_enabled ? '': \"\") + \"\" + \"\" + \"\" + \"\" }, H.Replybox = function(e) { this.embedThread = e }, H.Replybox.prototype = { render: function(e) { function T(e) { e.data(\"submitting\", !0), e.find(\".ds-post-button\").addClass(\"ds-waiting\").html(k.posting)[0].disabled = !0 } function N(e) { e.data(\"submitting\", !1), e.find(\".ds-post-button\").removeClass(\"ds-waiting\").html(k.post)[0].disabled = !1 } var n = this, r = n.embedThread, s = r.options, u = function(e) { w.require(\"smilies\", function() {}) }, a = n.el = i(J.replybox(r, e)).click(u), f = a.find(\"form\"), l = f.find(\"input[type=checkbox]\")[0], c = f.find(\"a.ds-service-icon, a.ds-service-icon-grey\"), h = B(f.find(\"textarea\")).focus(u).keyup(g).keyup(y).bind(\"focus mousedown mouseup keyup\", m), d = a.find(\".ds-add-emote\").click(function(e) { var r = w.smiliesTooltip; return d.toggleClass(\"ds-expanded\").hasClass(\"ds-expanded\") ? (r || (r = w.smiliesTooltip = new H.SmiliesTooltip, r.render(), w.require(\"smilies\", function() { r.reset(\"\\u5fae\\u535a-\\u9ed8\\u8ba4\") })), r.replybox = n, r.el.appendTo(t.body).css({ top: n.el.offset().top + n.el.outerHeight() + 4 + \"px\", left: n.el.find(\".ds-textarea-wrapper\").offset().left + \"px\" }), i(t.body).click(E)) : E(e), !1 }), b = a.find(\".ds-add-image\").click(function(e) { var n = h[0], r = n.value, i = \"\\u8bf7\\u8f93\\u5165\\u56fe\\u7247\\u5730\\u5740\", s = ''; if (t.selection) { n.value = r.substring(0, v.start) + s + r.substring(v.end, r.length), n.value = n.value.replace(\"\\u8bf4\\u70b9\\u4ec0\\u4e48\\u5427 ...\", \"\"), n.focus(); var o = t.selection.createRange(); o.collapse(), o.findText(i), o.select() } else { n.value = r.substring(0, n.selectionStart) + s + r.substring(n.selectionEnd); var u = n.value.search(i); n.setSelectionRange(u, u + i.length), n.focus() } e.preventDefault() }), E = n.hideSmilies = function(e) { d.removeClass(\"ds-expanded\"), w.smiliesTooltip.el.detach(), i(t.body).unbind(\"click\", E) }, S = function(e, t) { var n = j('\\u793e\\u4ea4\\u5e10\\u53f7\\u767b\\u5f55' + i.map([\"weibo\", \"qq\", \"renren\", \"kaixin\", \"douban\", \"netease\", \"sohu\"], function(e) { return '' + w.sourceName[e] + \"\" }).join(\"\") + \"\" + (s.deny_anonymous ? \"\": '\\u4f5c\\u4e3a\\u6e38\\u5ba2\\u7559\\u8a00' + '\\u540d\\u5b57(\\u5fc5\\u586b)' + \"\" + (s.require_guest_email ? '' + '\\u90ae\\u7bb1(\\u5fc5\\u586b)' + \"\": \"\") + (s.require_guest_url ? '' + '\\u7f51\\u5740(\\u53ef\\u9009)' + \"\": \"\") + '\\u53d1\\u5e03' + \"\")), r = n.el.find(\".ds-dialog\").css(\"width\", \"320px\"); M(r, \".ds-icons-32 a\"); if (!s.deny_anonymous) { var o = n.el.find(\"form\"); o.submit(function(e) { var r = o.find(\"input[name=author_email]\").val(); return (r || s.require_guest_email) && !r.match(/^(([^()[\\]\\\\.,;:\\s@\\\"]+(\\.[^()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/) ? (alert(\"\\u8bf7\\u8f93\\u5165\\u4e00\\u4e2a\\u6709\\u6548\\u7684email\\u5730\\u5740.\"), !1) : (t(w.toJSON(o)), n.close(), !1) }), o.find(\"input[name=author_name]\")[0].focus() } }; s.deny_anonymous && h.focus(function(e) { if (ct()) { S(f, C); var t = function(e) { e.stopPropagation(), h.unbind(\"click\", t) }; h.click(t) } return ! 1 }); var C = function(e) { T(f), A(\"/api/posts/create\", i.extend(w.toJSON(f), e), function(e) { var t = e.response, i = dt(n.postList, t, s); s.order == \"asc\" == (s.formPosition == \"top\") && w.scrollTo(i), ot[t.post_id] = new et(t), r.data.comments++, r.updateCounter(\"duoshuo\"), h.val(\"\").trigger(\"keyup\"), N(f), a.hasClass(\"ds-inline-replybox\") && (a.detach(), n.actionsBar.removeClass(\"ds-reply-active\")); if (o) try { o.removeItem(\"ds_draft_\" + r.threadId) } catch(u) {} }, function(e) { N(f), alert(e.errorMessage) }) }; f.submit(function(e) { if (f.data(\"submitting\")) return ! 1; var t = i.trim(f[0].message.value); return t == \"\" || !x.placeholder && t == h.attr(\"placeholder\") ? (alert(\"\\u60a8\\u8fd8\\u6ca1\\u5199\\u5185\\u5bb9\\u5462\"), !1) : (ct() ? S(f, C) : C(), !1) }); var L = function(e) { return i(e).hasClass(\"ds-service-icon-grey\") ? null: i(e).attr(\"data-service\") }; return c.click(function() { return i(this).toggleClass(\"ds-service-icon-grey\").toggleClass(\"ds-service-icon\"), l.value = i.map(c, L).join(\",\"), l.checked = l.value != \"\", !1 }), i(l).change(function() { var e = this.checked; c[e ? \"removeClass\": \"addClass\"](\"ds-service-icon-grey\")[e ? \"addClass\": \"removeClass\"](\"ds-service-icon\"), this.value = i.map(c, L).join(\",\") }), this } }, H.Dialog = Z.extend({ init: function(e, t) { (this.el = i(\"#ds-wrapper\"))[0] || (this.el = _(i(''))), this.options = i.extend({ width: 600 }, t), e !== n && i(e).attr(\"id\", \"ds-reset\").appendTo(this.el) }, open: function() { var e = this; e.el.hide().appendTo(t.body).fadeIn(200), S && e.el.css(\"top\", s.scrollTop() + 100), e.el.show().find(\".ds-dialog\").delegate(\"a.ds-dialog-close\", \"click\", function(t) { return e.close(), !1 }).click(h); var n = function(t) { if (t.which == 27) return e.close(), !1 }, r = function(t) { return e.close(), !1 }; return a.keydown(n), i(t.body).click(r), e.close = function(s) { a.unbind(\"keydown\", n), i(t.body).unbind(\"click\", r), e.el.fadeOut(200, function() { i(this).remove() }), e.trigger(\"close\") }, e } }), J.likePanel = function(e) { return e.likes ? '' + e.likes + \" \\u4eba\\u559c\\u6b22\": \"\" }, J.likeTooltip = function(e) { var t = { qzone: \"QQ\\u7a7a\\u95f4\", weibo: \"\\u65b0\\u6d6a\\u5fae\\u535a\", qqt: \"\\u817e\\u8baf\\u5fae\\u535a\", renren: \"\\u4eba\\u4eba\\u7f51\", kaixin: \"\\u5f00\\u5fc3\\u7f51\", douban: \"\\u8c46\\u74e3\\u7f51\", baidu: \"\\u767e\\u5ea6\\u641c\\u85cf\", netease: \"\\u7f51\\u6613\\u5fae\\u535a\", sohu: \"\\u641c\\u72d0\\u5fae\\u535a\" }, n = []; for (var r in t) n.push(''), i(e.pages) } this.el.html('' + r.join(\" \"))[e.pages > 1 ? \"show\": \"hide\"]() } }, J.smiliesTooltip = function(e) { var t = ''; for (var n in e) t += \"\" + n + \"\"; return t + '' }, w.addSmilies = function(e, t) { var n = w.smiliesTooltip; n && n.el.find(\"ul.ds-smilies-tabs\").append(\"\" + e + \"\"), w.smilies[e] = t }, H.SmiliesTooltip = function() {}, H.SmiliesTooltip.prototype = { render: function() { var e = this, n = e.el = i(J.smiliesTooltip(q)); return n.click(h).find(\"ul.ds-smilies-tabs\").delegate(\"a\", \"click\", function(t) { e.reset(this.innerHTML) }), n.find(\".ds-smilies-container\").delegate(\"img\", \"click\", function(n) { var r = e.replybox, i = r.el.find(\"textarea\")[0], s = i.value; if (t.selection) { i.value = s.substring(0, v.start) + this.title + s.substring(v.end, s.length), i.value = i.value.replace(k.leave_a_message, \"\"), i.focus(); var o = t.selection.createRange(); o.moveStart(\"character\", v.start + this.title.length), o.collapse(), o.select() } else { var u = i.selectionStart + this.title.length; i.value = s.substring(0, i.selectionStart) + this.title + s.substring(i.selectionEnd), i.setSelectionRange(u, u) } r.hideSmilies(), i.focus() }), this }, reset: function(e) { var t = this.el.find(\"ul.ds-smilies-tabs\"); t.find(\"a.ds-current\").removeClass(\"ds-current\"), t.find(\"a\").filter(function() { return this.innerHTML == e }).addClass(\"ds-current\"); var n = \"\"; return i.each(q[e], function(t, r) { var i = e.indexOf(\"\\u5fae\\u535a\") === 0 ? \"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/\" + r.replace(\"_org\", \"_thumb\") : b + \"/images/smilies/\" + r; e === \"WordPress\" && (t = \" \" + t + \" \"), n += '' }), n += \"\", this.el.find(\".ds-smilies-container\").html(n), this } }, J.postPlaceholder = function() { return '' + k.no_comments_yet + \"\" }, J.post = function(e, t) { var n = K(e), r = n.user_id ? ' data-user-id=\"' + n.user_id + '\"': \"\", s = n.qqt_account || \"\", o = J.timeHtml(e.created_at, e.url), u = e.parents || []; switch (e.source) { case \"duoshuo\": o += '' + k.reply + \"\" + J.likePost(e) + '' + k.repost + \"\" + '' + k.report + \"\" + (e.privileges[\"delete\"] ? '' + k[\"delete\"] + \"\": \"\"); break; case \"qqt\": case \"weibo\": o += '' + k.comments + (e.type.match(/\\-comment$/) ? \"\": '(' + e.comments + \")\") + \"\" + '' + k.reposts + (e.type.match(/\\-comment$/) ? \"\": '(' + e.reposts + \")\") + \"\"; break; default: } return ' 2 ? '\\u8fd8\\u6709' + (u.length - 2) + \"\\u6761\\u8bc4\\u8bba\": \"\") + (ot[e] ? J.ctxPost(ot[e].data, t, t && t < u.length - 1) : \"\") }).join(\"\") + \"\": \"\") + \"\" + (u.length >= t.max_depth && (!t.show_context || t.max_depth > 1) && e.parent_id && ot[e.parent_id] ? '' + k.reply_to + p(K(ot[e.parent_id].data).name) + \": \": \"\") + e.message + '' + o + \"\" + (t.max_depth > 1 && (e.childrenArray || e.children) && e.source != \"weibo\" && e.source != \"qqt\" ? '' + i.map(e.childrenArray || e.children, function(e) { return ot[e] ? J.post(ot[e].data, t) : \"\" }).join(\"\") + \"\": \"\") + \"\" }; var $ = i(''), G = $.find(\".ds-bubble-content\").delegate(\"a.ds-ctx-open\", \"click\", function(e) { L(\"/api/posts/conversation\", { post_id: G.attr(\"data-post-id\") }, function(e) { t.el.find(\"ol\").html(i.map(e.response, J.ctxPost).join(\"\\n\")) }); var t = j('\\u67e5\\u770b\\u5bf9\\u8bdd'); return t.el.find(\".ds-dialog\").css(\"width\", \"600px\"), t.el.find(\".ds-dialog-body\").css({ \"max-height\": \"350px\", _height: \"350px\", \"overflow-y\": \"auto\", \"padding-top\": \"10px\" }), !1 }), Y = bubbleOutTimer = 0, tt = function() { bubbleOutTimer && (clearTimeout(bubbleOutTimer), bubbleOutTimer = 0) }; bubbleOut = function() { bubbleOutTimer = setTimeout(function() { bubbleOutTimer = 0, $.detach() }, 400) }, $.mouseenter(tt).mouseleave(bubbleOut), J.userInfo = function(e) { var t = []; return i.each(e.social_uid, function(e, n) { t.push('' + e.comments + \"\\u6761\\u8bc4\\u8bba\" + (e.description ? '' + p(e.description) + \"\": \"\") }, P.PostList = function(e) { e && (e.params && (this.params = e.params), e.embedThread && (this.embedThread = e.embedThread)), this.el = i('') }, P.PostList.prototype = { url: \"/api/threads/listPosts\", render: function() { return vt.call(this.el, this.embedThread, this.embedThread.options), this }, reset: function(e) { var t = this.embedThread.options; this.el.html(e[0] ? i.map(e, function(e) { return ot[e] ? J.post(ot[e].data, t) : \"\" }).join(\"\") : J.postPlaceholder()) }, refetch: function() { var e = this, n = i(J.indicator()).appendTo(t.body).fadeIn(200); e.el.fadeTo(200, .5), L(e.url, e.params, function(t) { at(ot, t.parentPosts || t.relatedPosts), at(ut, t.users), e.reset(t.response), e.embedThread.paginator.reset(t.cursor), e.el.fadeTo(200, 1), w.scrollTo(e.el), n.remove() }) } }, w.repostDialog = function(e, t, n, r) { var i = j('\\u8f6c\\u53d1\\u5230\\u5fae\\u535a@' + p(K(e.data).name) + \": \" + e.data.message + \"\" + \"\" + Q({ post_id: e.data.post_id }) + '' + '' + p(t) + \"\" + '' + \"\" + '' + (r ? Q({ \"service[]\": r }) : '\\u65b0\\u6d6a\\u5fae\\u535a ' + '\\u817e\\u8baf\\u5fae\\u535a') + '' + k.repost + \"\" + \"\" + \"\"), s = i.el.find(\"form\").submit(function(e) { return ! r && !s.find(\"[type=checkbox]:checked\")[0] ? (alert(\"\\u8fd8\\u6ca1\\u6709\\u9009\\u53d1\\u5e03\\u5230\\u54ea\\u513f\\u5462\"), !1) : (A(\"/api/posts/repost\", w.toJSON(s), function(e) { if (n && r) { var t = n.options, i = dt(n.postList.el, e.response[r], t); t.order == \"asc\" == (t.formPosition == \"top\") && w.scrollTo(i); var s = n.el.find(\".ds-comments-tab-\" + r + \" span.ds-highlight\"); s.html(parseInt(s.html()) + 1) } }), i.close(), !1) }); return s.find(\".ds-actions [type=checkbox]\").change(function(e) { var t = this.value; if (this.checked && !rt.data.social_uid[t == \"qqt\" ? \"qq\": t]) { mt(t); return } }), B(s.find(\"textarea\")).keyup(g).keyup(y).focus(), !1 }, J.toolbar = function(e) { var t = J.logoutUrl(); return ' \\u5e10\\u53f7\\u7ba1\\u7406\\u7ed1\\u5b9a\\u66f4\\u591a' + p(k.settings) + \"\" + '\\u767b\\u51fa' + \"\" + \"\" + '' + (rt.data.url ? '' + p(rt.data.name) + \"\": '' + p(rt.data.name) + \"\") + '' + \"\" + \"\" }, H.EmbedThread = R.extend({ uri: \"/api/threads/listPosts\", params: \"thread-id local-thread-id source-thread-id thread-key category channel-key author-key author-id url limit order max-depth form-position container-url\" + (f.match(/MSIE 6\\.0/) ? \"\": \" title image thumbnail\"), render: function() { var e = this.el.attr(\"id\", \"ds-thread\").append(J.waitingImg()), t = e.width(), n = e.data(\"url\") || !e.attr(\"data-thread-id\") && i(\"link[rel=canonical]\").attr(\"href\"); n ? e.data(\"url\", d(n)) : e.data(\"container-url\", r.href), t && t 1 ? \"multiple\": \"one\": \"zero\")].replace(\"{num}\", r)) } }); var yt = 0; w.initSelector = function(e, t) { var n = []; V() && (i.isReady || !E) && i(e).each(function(e, r) { var s = i(r); if (s.data(\"initialized\")) return; s.data(\"initialized\", !0); var o = new H[t.type](s, t); C.push(o); if (t.type === \"ThreadCount\") { var u = s.attr(\"data-thread-key\"); s.attr(\"data-channel-key\") && (u = s.attr(\"data-channel-key\") + \":\" + u), n.push(u), st[u] || (st[u] = new et({})), st[u].on(\"reset\", function() { o.onload(this) }) } else if (o.uri) { var a = {}; i.each(o.params.split(\" \"), function(e, t) { a[t.replace(/-/g, \"_\")] = s.attr(\"data-\" + t) || s.data(t) }), L(o.uri, bt(a), function(e) { o.load(e) }) } }), n.length && L(\"/api/threads/counts\", bt({ threads: n.join(\",\") }), function(e) { l(e), ft(k, e.options), at(st, e.response) }) }, (w.initView = function() { i.each(N, w.initSelector) })(), i(function() { if (!V()) return I(\"\\u7f3a\\u5c11duoshuoQuery\\u7684\\u5b9a\\u4e49\"); setInterval(function() { i(\".ds-time\").each(function() { var e = i(this).attr(\"datetime\"); e && (this.innerHTML = w.elapsedTime(e)) }) }, 2e4), z.ondomready && z.ondomready(), w.initView(), !yt && z.short_name && L(\"/api/analytics/ping\", bt({}), l) }) }) })(window, document);"}],"posts":[{"title":"为 Hexo 添加可折叠的文章目录","slug":"hexo-collapsible-toc","date":"2016-06-13T12:06:30.000Z","updated":"2016-06-27T12:27:26.729Z","comments":true,"path":"2016/06/13/hexo-collapsible-toc/","link":"","permalink":"http://xiahl.top/next/2016/06/13/hexo-collapsible-toc/","excerpt":"前言Hexo 支持自动给文章加上目录，但默认生成的目录比较简陋，好在我们可以手动改进一下它，比如增加 点击展开/收起多级目录 的功能。","text":"前言Hexo 支持自动给文章加上目录，但默认生成的目录比较简陋，好在我们可以手动改进一下它，比如增加 点击展开/收起多级目录 的功能。 前期准备目录生成 比如 Yelee 主题中用以下代码自带生成目录，使用 Hexo 自带的辅助函数 &lt;%-toc(post.content)%&gt; 来生成文章目录，同时将目录包裹起来以便修改样式。其他主题大同小异。 1234&lt;div id=\"toc\" class=\"toc-article\"&gt; &lt;strong class=\"toc-title\"&gt;文章目录&lt;/strong&gt; &lt;%- toc(post.content) %&gt;&lt;/div&gt; 观察结构 审查元素，观察到生成后的目录 HTML 结构大致如下 12345678910111213141516171819202122232425&lt;div id=\"toc\" class=\"toc-article\"&gt; &lt;strong class=\"toc-title\"&gt;文章目录&lt;/strong&gt; &lt;ol class=\"toc\"&gt; &lt;li class=\"toc-item toc-level-2\"&gt; &lt;a class=\"toc-link\" href=\"#标题1\"&gt; &lt;span class=\"toc-number\"&gt;1.&lt;/span&gt; &lt;span class=\"toc-text\"&gt;标题1&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=\"toc-item toc-level-2\"&gt; &lt;a class=\"toc-link\" href=\"#标题2\"&gt; &lt;span class=\"toc-number\"&gt;2.&lt;/span&gt; &lt;span class=\"toc-text\"&gt;标题2&lt;/span&gt; &lt;/a&gt; &lt;!-- 含子标题 --&gt; &lt;ol class=\"toc-child\"&gt; &lt;li class=\"toc-item toc-level-3\"&gt; &lt;a class=\"toc-link\" href=\"#子标题1\"&gt;&lt;span class=\"toc-number\"&gt;2.1.&lt;/span&gt; &lt;span class=\"toc-text\"&gt;子标题1&lt;/span&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=\"toc-item toc-level-3\"&gt; &lt;a class=\"toc-link\" href=\"#子标题2\"&gt;&lt;span class=\"toc-number\"&gt;2.2.&lt;/span&gt; &lt;span class=\"toc-text\"&gt;子标题2&lt;/span&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ol&gt; &lt;/li&gt; &lt;/ol&gt;&lt;/div&gt; 功能构思 在每个包含子标题的大标题前插入小图标； 找出需要绑定点击事件的元素； 理清每次事件中子目录折叠和小图标切换的逻辑。 代码编写添加小图标123456var $itemHasChild = $(\"#toc .toc-item:has(&gt; .toc-child)\");var $titleHasChild = $itemHasChild.children(\".toc-link\");$itemHasChild.prepend(\"&lt;i class='fa fa-caret-down'&gt;&lt;/i&gt;&lt;i class='fa fa-caret-right'&gt;&lt;/i&gt;\");var $iconToFold = $(\".toc-item &gt; .fa-caret-down\");$iconToExpand.addClass(\"hide\"); 这里在匹配的大标题前插入了两个 &lt;i&gt; 标签，用于表示目录 展开 和 收起 这两种状态；标签使用了 Font Awesome 中的小三角形图标，可自行更换或者用 CSS 绘制； 点击小图标1234567891011var clickIcon = function()&#123; $(\"#toc .toc-item &gt; i\").click(function()&#123; $(this).siblings(\".toc-child\").slideToggle(100); $(this).toggleClass(\"hide\"); $(this).siblings(\"i\").toggleClass(\"hide\"); &#125;)&#125;()// 默认展开目录，所以隐藏掉表示“目录已展开”的图标（向下的小三角）var $iconToFold = $(\".toc-item &gt; .fa-caret-down\");$iconToExpand.addClass(\"hide\"); 点击小图标折叠次级目录，同时切换到相应图标； 这里图标的显示状态是在 inline-block 和 none 中切换，用 toggleClass 比较合适。 点击大标题1234567891011121314var clickTitle = function()&#123; $titleHasChild.dblclick(function()&#123; $(this).siblings(\".toc-child\").hide(100); $(this).siblings(\"i\").toggleClass(\"hide\"); &#125;) // After dblclick enent $titleHasChild.click(function()&#123; var $curentTocChild = $(this).siblings(\".toc-child\"); if ($curentTocChild.is(\":hidden\")) &#123; $curentTocChild.show(100); $(this).siblings(\"i\").toggleClass(\"hide\"); &#125; &#125;)&#125;() 这里按我自己的习惯设计成 单击 即展开目录，而折叠目录需要 双击。因为点击某个目录时，代表我希望了解该目录的内容，所以不希望单击就把对应目录给收起了； 单击事件要在双击事件之后，要不点击事件会出现异常。 点击总标题 之前给目录区加了个总标题 文章目录，现在可以给赋予其函数，以便点击时 展开/收起 所有目录 1234567891011121314151617181920212223var clickTocTitle = function()&#123; var $iconToExpand = $(\".toc-item &gt; .fa-caret-right\"); var $iconToFold = $(\".toc-item &gt; .fa-caret-down\"); var $subToc = $titleHasChild.next(\".toc-child\"); var $tocTitle = $(\"#toc .toc-title\"); // 当包含多级目录时再执行 if ($titleHasChild.length) &#123; $tocTitle.addClass(\"clickable\"); $tocTitle.click(function()&#123; if ($subToc.is(\":hidden\")) &#123; $subToc.show(150); $iconToExpand.removeClass(\"hide\"); $iconToFold.addClass(\"hide\"); &#125; else &#123; $subToc.hide(100); $iconToExpand.addClass(\"hide\"); $iconToFold.removeClass(\"hide\"); &#125; &#125;) &#125;&#125;() CSS 样式 功能函数设置好后，再通过 CSS 调整下样式即可，样式根据主题风格和个人喜好自行调整； 下面是部分自用样式，可参考 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364/*小图标*/#toc ol.toc li.toc-item i &#123; display: inline-block; margin-left: -0.9em; width: 0.9em; color: #b3b3b3; font-weight: bold; cursor: pointer;&#125;#toc ol.toc li.toc-item i:hover &#123; color: #000;&#125;/*关联图标的 Class*/#toc ol.toc li.toc-item i.hide &#123; display: none;&#125;/*关联总标题的 Class*/#toc .toc-title.clickable &#123; cursor: pointer;&#125;#toc .toc-title.clickable:hover &#123; color: #88acdb;&#125;#toc .toc-title.clickable:active &#123; color: #d3d3d3;&#125;/*其他目录相关*/#toc &#123; font-size: 0.9em; line-height: 1.65em;&#125;#toc .toc-title &#123; font-weight: bold; color: #808080;&#125;#toc ol.toc &#123; margin-left: 0; padding: 0.7em; padding-right: 0;&#125;#toc ol.toc li.toc-item &#123; list-style-type: none;&#125;#toc ol.toc li.toc-item:hover &#123; background: none;&#125;#toc ol.toc a.toc-link &#123; color: #808080;&#125;#toc ol.toc a.toc-link:visited &#123; color: #f48385;&#125;#toc ol.toc a.toc-link:hover &#123; color: #88acdb; text-decoration: none; background: rgba(158,188,226,0.21);&#125;#toc ol.toc ol.toc-child &#123; padding-left: 1.25em; margin: 4px 0;&#125; 相关链接 Font Awesome: http://fontawesome.io/ Hexo TOC 辅助函数: https://hexo.io/zh-cn/docs/helpers.html#toc 为 Hexo 博客添加目录 by 况琪 on 2015/02/09: http://kuangqi.me/tricks/enable-table-of-contents-on-hexo/ feat: collapsible TOC 可折叠目录 by MOxFIVE on 2016/06/05: https://github.com/MOxFIVE/hexo-theme-yelee/commit/85764bbf482c78d819f8ca87bf9fe390d523dd3b","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"},{"name":"jQuery","slug":"jQuery","permalink":"http://xiahl.top/tags/jQuery/"}]},{"title":"让 Hexo 博客支持本地站内搜索","slug":"hexo-local-search","date":"2016-05-31T05:50:19.000Z","updated":"2016-06-27T12:27:22.189Z","comments":true,"path":"2016/05/31/hexo-local-search/","link":"","permalink":"http://xiahl.top/next/2016/05/31/hexo-local-search/","excerpt":"前言最近给 Yelee 主题加上了本地搜索功能，终于能在自己的博客里愉快地搜索资料了。大致思路来源于 HaHack 的 教程，根据需要做了些调整。重新整理一下本地搜索折腾记录，分享于此。","text":"前言最近给 Yelee 主题加上了本地搜索功能，终于能在自己的博客里愉快地搜索资料了。大致思路来源于 HaHack 的 教程，根据需要做了些调整。重新整理一下本地搜索折腾记录，分享于此。 索引生成要使用搜索，必须先生成博客索引数据，Hexo 可以通过插件生成：1npm install --save hexo-generator-search 插件默认只索引文章(post)，要想页面(page)也能被检索，只需要在 Hexo 站点 _config.yml 中添加如下配置即可：123search: path: search.xml field: all 更多配置说明可到插件页面查看：hexo-generator-search 界面结构因为自己博客是双栏，顺手就把搜索结果放在边栏中了，大致 HTML 结构如下： 123456&lt;form id=\"search-form\"&gt; &lt;!-- 搜索框相关 --&gt; &lt;input type=\"text\" id=\"local-search-input\" name=\"q\" results=\"0\" placeholder=\"search...\" class=\"search form-control\" autocomplete=\"off\" autocorrect=\"off\"/&gt; &lt;i class=\"fa fa-times\" onclick=\"resetSearch()\"&gt;&lt;/i&gt; &lt;!-- 清空/重置搜索框 --&gt;&lt;/form&gt;&lt;div id=\"local-search-result\"&gt;&lt;/div&gt; &lt;!-- 搜索结果区 --&gt;&lt;p class='no-result'&gt;No results found &lt;/p&gt; &lt;!-- 无匹配时显示，注意请在 CSS 中设置默认隐藏 --&gt; 搜索重置按钮使用了 Font Awesome 图标，可按需更换 功能代码基础代码 基础搜索函数 (jQuery) 来源于 HaHack 的教程，个人进行了些调整：1.新标签中打开文章页面；2.减少截取的字符数；3.去掉部分非必要的代码 使用时将下边代码保存为 js 文件并在页面中的合适位置引入 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788// A local search script with the help of [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)// Copyright (C) 2015 // Joseph Pan &lt;http://github.com/wzpan&gt;// Shuhao Mao &lt;http://github.com/maoshuhao&gt;// Edited by MOxFIVE &lt;http://github.com/MOxFIVE&gt;var searchFunc = function(path, search_id, content_id) &#123; 'use strict'; $.ajax(&#123; url: path, dataType: \"xml\", success: function( xmlResponse ) &#123; // get the contents from search data var datas = $( \"entry\", xmlResponse ).map(function() &#123; return &#123; title: $( \"title\", this ).text(), content: $(\"content\",this).text(), url: $( \"url\" , this).text() &#125;; &#125;).get(); var $input = document.getElementById(search_id); var $resultContent = document.getElementById(content_id); $input.addEventListener('input', function()&#123; var str='&lt;ul class=\\\"search-result-list\\\"&gt;'; var keywords = this.value.trim().toLowerCase().split(/[\\s\\-]+/); $resultContent.innerHTML = \"\"; if (this.value.trim().length &lt;= 0) &#123; return; &#125; // perform local searching datas.forEach(function(data) &#123; var isMatch = true; var content_index = []; var data_title = data.title.trim().toLowerCase(); var data_content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g,\"\").toLowerCase(); var data_url = data.url; var index_title = -1; var index_content = -1; var first_occur = -1; // only match artiles with not empty titles and contents if(data_title != '' &amp;&amp; data_content != '') &#123; keywords.forEach(function(keyword, i) &#123; index_title = data_title.indexOf(keyword); index_content = data_content.indexOf(keyword); if( index_title &lt; 0 &amp;&amp; index_content &lt; 0 )&#123; isMatch = false; &#125; else &#123; if (index_content &lt; 0) &#123; index_content = 0; &#125; if (i == 0) &#123; first_occur = index_content; &#125; &#125; &#125;); &#125; // show search results if (isMatch) &#123; str += \"&lt;li&gt;&lt;a href='\"+ data_url +\"' class='search-result-title' target='_blank'&gt;\"+ \"&gt; \" + data_title +\"&lt;/a&gt;\"; var content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g,\"\"); if (first_occur &gt;= 0) &#123; // cut out characters var start = first_occur - 6; var end = first_occur + 6; if(start &lt; 0)&#123; start = 0; &#125; if(start == 0)&#123; end = 10; &#125; if(end &gt; content.length)&#123; end = content.length; &#125; var match_content = content.substr(start, end); // highlight all keywords keywords.forEach(function(keyword)&#123; var regS = new RegExp(keyword, \"gi\"); match_content = match_content.replace(regS, \"&lt;em class=\\\"search-keyword\\\"&gt;\"+keyword+\"&lt;/em&gt;\"); &#125;) str += \"&lt;p class=\\\"search-result\\\"&gt;\" + match_content +\"...&lt;/p&gt;\" &#125; &#125; &#125;) $resultContent.innerHTML = str; &#125;) &#125; &#125;)&#125; 调用函数 search.xml 使用默认路径，可以直接把下面代码放到 js 文件中 12var path = \"/search.xml\";searchFunc(path, 'local-search-input', 'local-search-result'); 上面的函数， search.xml 文件会跟随页面一起加载，如果索引文件太大，可能会影响页面加载速度，可以将其调整为激活搜索框时再下载所需文件 1234567var inputArea = document.querySelector(\"#local-search-input\");var getSearchFile = function()&#123; var path = \"/search.xml\"; searchFunc(path, 'local-search-input', 'local-search-result');&#125;inputArea.onfocus = function()&#123; getSearchFile() &#125; 搜索重置 提供按钮用于清空搜索结果和重置搜索框，按钮已经绑定了点击事件，直接写函数就行 12345678910var $resetButton = $(\"#search-form .fa-times\");var $resultArea = $(\"#local-search-result\");inputArea.oninput = function()&#123; $resetButton.show(); &#125;resetSearch = function()&#123; $resultArea.html(\"\"); document.querySelector(\"#search-form\").reset(); $resetButton.hide(); $(\".no-result\").hide();&#125; 屏蔽回车 虽然用了表单但其实并没有数据要提交，所以这里需要手动屏蔽掉回车键 1inputArea.onkeydown = function()&#123; if(event.keyCode==13) return false&#125; 无搜索结果 无搜索结果时，显示指定的提示内容。 原本想在基础搜索函数上改，折腾无果，只能曲线救国，通过监听搜索区内容变动来判断是否有匹配的内容 1234567$resultArea.bind(\"DOMNodeRemoved DOMNodeInserted\", function(e) &#123; if (!$(e.target).text()) &#123; $(\".no-result\").show(200); &#125; else &#123; $(\".no-result\").hide(); &#125;&#125;) CSS 样式样式部分按自己喜好设计即可，下面是个人目前使用的样式，可参考1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495/*搜索框*/.search &#123; width: 68%; height: 18px; margin-top: 1px; padding: 0; font-family: inherit; border: 2px solid transparent; border-bottom: 2px solid #d3d3d3; border-radius: 2px; opacity: 0.65; background: none;&#125;.search:hover &#123; border: 2px solid #d3d3d3; opacity: 1; box-shadow: 0 0 10px rgba(0,0,0,0.3);&#125;/*搜索重置按钮*/#search-form .fa-times &#123; display: none; padding: 1px 0.7em; box-shadow: 0 0 3px rgba(0,0,0,0.15); cursor: pointer; color: #808080;&#125;#search-form .fa-times:active &#123; background: #d3d3d3;&#125;#search-form .fa-times:hover &#123; zoom: 1.1; padding: 1px 0.6em; border: 1px solid #d3d3d3; box-shadow: 0 0 6px rgba(0,0,0,0.25);&#125;/*搜索结果区*/#local-search-result &#123; margin: auto -12% auto -6%; font-size: 0.9em; text-align: left; word-break: break-all;&#125;#local-search-result ul.search-result-list li:hover &#123; font-weight: normal;&#125;/*单条搜索结果*/#local-search-result li &#123; margin: 0.5em auto; border-bottom: 2px solid #d3d3d3;&#125;#local-search-result .search-result-list li:hover &#123; background: rgba(158,188,226,0.21); box-shadow: 0 0 5px rgba(0,0,0,0.2);&#125;/*匹配的标题*/#local-search-result a.search-result-title &#123; line-height: 1.2; font-weight: bold; color: #708090;&#125;/*搜索预览段落*/#local-search-result p.search-result &#123; margin: 0.4em auto; line-height: 1.2em; max-height: 3.6em; overflow: hidden; font-size: 0.8em; text-align: justify; color: #808080;&#125;/*匹配的关键词*/#local-search-result em.search-keyword &#123; color: #f58e90; border-bottom: 1px dashed #f58e90; font-weight: bold; font-size: 0.85em;&#125;/*无匹配搜索结果时显示*/p.no-result &#123; display: none; margin: 2em 0 2em 6%; padding-bottom: 0.5em; text-align: left; color: #808080; font-family: font-serif serif; border-bottom: 2px solid #d3d3d3;&#125; 一些不足 [ ] 如果文章很多，索引文件可能很大，无论是随页面下载还是激活搜索框再下载，似乎都不理想； [ ] 搜索结果中全部内容都转成了小写，应该有办法忽略大小写的同时，保持文本原始大小写格式； [ ] 使用自动补全填上的内容并不能立即显示搜索结果，待改进。 相关链接 jQuery-based Local Search Engine for Hexo by HaHack on 2015/10/08: http://hahack.com/codes/local-search-engine-for-hexo/ feat: Local Site Search | 本地站内搜索 by MOxFIVE on 2016/05/25: https://github.com/MOxFIVE/hexo-theme-yelee/commit/0280f6a17d1a0fa1f52056856082e022dfac220c hexo-generator-search: https://github.com/PaicHyperionDev/hexo-generator-search","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://xiahl.top/tags/JavaScript/"},{"name":"jQuery","slug":"jQuery","permalink":"http://xiahl.top/tags/jQuery/"}]},{"title":"Hexo 页面自动刷新与移动端调试","slug":"hexo-browsersync","date":"2016-03-26T16:17:50.000Z","updated":"2016-06-27T12:27:18.360Z","comments":true,"path":"2016/03/27/hexo-browsersync/","link":"","permalink":"http://xiahl.top/next/2016/03/27/hexo-browsersync/","excerpt":"前言经常本地调试 Hexo 主题, 如果有工具能监视文件更改幷自动刷新页面，那一定能提高不少效率，Browsersync 就是这样一款浏览器同步测试工具。","text":"前言经常本地调试 Hexo 主题, 如果有工具能监视文件更改幷自动刷新页面，那一定能提高不少效率，Browsersync 就是这样一款浏览器同步测试工具。 自动刷新安装 Browsersync Browsersync 依赖包较多，Mac 和 Linux 中建议加上 sudo 避免安装时因权限不足而报错 1npm install -g browser-sync 安装结束后执行下面命令，能显示对应版本则表示安装成功 1browser-sync --version 如果显示无此命令，请尝试使用 淘宝 NPM 镜像，或者全局科学上网后再安装 安装 Hexo 端插件 要把 Browsersync 应用到 Hexo 上，还需要安装一个小插件 hexo-browsersync 。命令行中进入 Hexo 根目录，执行以下命令: 1npm install hexo-browsersync --save 安装后像往常一样执行 hexo s 开启本地服务器，当相关文件被修改或者保存时，关联的浏览器页面会自带刷新 一些不足 变动后将重新加载整个页面，不能局部刷新； 使用 Hexo 自带服务器时，无法在移动端调试； 偶尔会报错，需要多保存几次； 移动端调试如果只是为了自动刷新页面，或许使用 LiveReload 就够了。Browsersync 真正强大之处在于其多设备调试功能，局域网设备访问同一网址，页面同步变动。 生成静态文件 要在移动端调试，需要先生成 Hexo 站点的静态文件 1hexo g 开启服务 命令行进入静态文件所在的文件夹，默认为 Hexo 根目录下的 public，然后执行以下命令： 1browser-sync start --server --files \"css/*.css, *.html\" 输入完毕按回车，会自动打开网站首页 更多命令行用法请参考 官方文档 局域网访问 回到命令行窗口，External 那行的 IP 地址就是局域网地址，打开你的手机平板访问即可，各种操作和文件修改都会同步变动，调试极为便利 此种方式不是直接修改主题源文件，所以平时一般使用 Hexo 本地服务修改样式，有需要时再生成静态文件在移动端测试页面效果 相关链接 Browsersync: http://www.browsersync.cn/ hexo-browsersync: https://github.com/hexojs/hexo-browsersync 淘宝 NPM 镜像: http://npm.taobao.org/","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"},{"name":"Browsersync","slug":"Browsersync","permalink":"http://xiahl.top/tags/Browsersync/"}]},{"title":"关联 GitHub, 让 Hexo 支持查看文章更新历史","slug":"hexo-post-version-control","date":"2016-01-10T14:38:01.000Z","updated":"2016-06-27T12:27:14.323Z","comments":true,"path":"2016/01/10/hexo-post-version-control/","link":"","permalink":"http://xiahl.top/next/2016/01/10/hexo-post-version-control/","excerpt":"前言Hexo 的文章源文件就是一个个 Markdown 文本，自己一直把这些文件备份在 GitHub 上。渐渐发觉，如果只把 GitHub 当作普通网盘，那真是有点大材小用了。于是稍作折腾，成功地把 GitHub 上的备份关联到主题中。现在，在文章文末版权区，可以很方便地跳转查看文章更新记录、历史版本以及下载源文件。","text":"前言Hexo 的文章源文件就是一个个 Markdown 文本，自己一直把这些文件备份在 GitHub 上。渐渐发觉，如果只把 GitHub 当作普通网盘，那真是有点大材小用了。于是稍作折腾，成功地把 GitHub 上的备份关联到主题中。现在，在文章文末版权区，可以很方便地跳转查看文章更新记录、历史版本以及下载源文件。 文件处理文件命名 为了便于文章识别和自动关联文件，文章 Markdown 的文件名应该符合规范。 建议使用 文章建立日期.固定链接 YY-MM-DD.permalink.md 的形式。 在文章 [Front-matter] 中设置固定链接 permalink，然后填写文件名，例如本文完整文件名为 2016-01-10.hexo-post-version-control.md 为什么不使用文章标题作为文件名: 一是因为标题偶尔会变动，修改相对麻烦；二是标题可能包含不能用作文件名的符号，导致关联出错。 文件备份 把 hexo/sources/_posts 文件夹同步备份到你的 GitHub 上，不熟悉 Git 的可使用 GitHub Desktop 操作，具体方法自行搜索。 代码添加把下面 EJS 代码添加到主题文章模板合适位置中，Yelee 主题是添加在文末版权区中。参考备份文件在 Github 的链接修改前半部分地址。 yelee/layout/_partial/post/nav.ejsPost Version Control12345678&lt;% if (post.backup != false)&#123; %&gt; &lt;p&gt; &lt;span&gt;更新历史:&lt;/span&gt;&lt;i class=\"fa fa-github\"&gt;&lt;/i&gt; &lt;a href=\"&lt;文章 Blame 地址&gt;/&lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;.&lt;%= post.slug %&gt;.md\" title=\"顺序查看文章各部分修改记录\" target = \"_blank\"&gt;Blame&lt;/a&gt;, &lt;a href=\"&lt;文章 History 地址&gt;/&lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;.&lt;%= post.slug %&gt;.md\" title=\"查看文章有关更新记录\" target = \"_blank\"&gt;History&lt;/a&gt;&lt;span class=\"raw\"&gt;文本模式:&lt;/span&gt;&lt;i class=\"fa fa-file-text-o\"&gt;&lt;/i&gt; &lt;a href=\"&lt;文章 Raw 地址&gt;/&lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;.&lt;%= post.slug %&gt;.md\" title=\"查看 &amp; 下载文章 Markdown 原始文本\" target = \"_blank\"&gt; .md Raw&lt;/a&gt; &lt;/p&gt;&lt;% &#125; %&gt; 代码简析1234567891011&lt;!-- 不设置 backup: false 则默认显示 --&gt;&lt;% if (post.backup != false)&#123; %&gt; &lt;p&gt; &lt;span&gt;更新历史:&lt;/span&gt;&lt;i class=\"fa fa-github\"&gt;&lt;/i&gt; &lt;!-- 不同功能替换前面超链接即可，文件名不变 --&gt; &lt;!-- 文件名生成: &lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;.&lt;%= post.slug %&gt; --&gt; &lt;a href=\"&lt;文章 Blame 地址&gt;/&lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;.&lt;%= post.slug %&gt;.md\" title=\"顺序查看文章各部分修改记录\" target = \"_blank\"&gt;Blame&lt;/a&gt;, &lt;a href=\"&lt;文章 History 地址&gt;/&lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;.&lt;%= post.slug %&gt;.md\" title=\"查看文章有关更新记录\" target = \"_blank\"&gt;History&lt;/a&gt;&lt;span class=\"raw\"&gt;文本模式:&lt;/span&gt;&lt;i class=\"fa fa-file-text-o\"&gt;&lt;/i&gt; &lt;a href=\"&lt;文章 Raw 地址&gt;/&lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;.&lt;%= post.slug %&gt;.md\" title=\"查看 &amp; 下载文章 Markdown 原始文本\" target = \"_blank\"&gt; .md Raw&lt;/a&gt; &lt;/p&gt;&lt;% &#125; %&gt; Blame 顺序列出文章内容，左侧显示各部分 commit 信息，最后修改时间等。 History 列出与该文件相关的更新记录 (commit)，按路径匹配。我一般直接就用提交时间作为 commit 信息了，想要更直观查看变动的可以在提交时书写更完善的 commit 信息。 .md Raw 在线查看或者直接下载文章原始 Markdown 文本。 后记 这是半自动的版本控制，需要手动把文章同步备份到 GitHub； 代码部分的变动基于 Yelee 主题，其它主题用户可以参考 另一篇文章 的方法，自行添加代码到合适位置； 小图标来自 Font Awesome，需主题支持才会正常显示； 本文不详解 Hexo 基础知识，有设置项不理解的请先阅读 Hexo 官方帮助文档。 相关链接 GitHub Desktop: https://desktop.github.com/ Font Awesome: http://fontawesome.io/ Hexo 使用文档: https://hexo.io/zh-cn/docs/ Hexo 文章版本控制 by MOxFIVE on 2016/01/10: https://github.com/MOxFIVE/M-Hexo-Blog/commit/d8a4942dab23920837cc70249c31697d36e49235","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"},{"name":"GitHub","slug":"GitHub","permalink":"http://xiahl.top/tags/GitHub/"}]},{"title":"为 Hexo 主题添加评论模块 — Disqus, 多说, 友言","slug":"hexo-comments","date":"2016-01-01T17:26:48.000Z","updated":"2016-06-27T12:27:10.054Z","comments":true,"path":"2016/01/02/hexo-comments/","link":"","permalink":"http://xiahl.top/next/2016/01/02/hexo-comments/","excerpt":"前言目前自己的主题 Yelee 已支持使用 Disqus, 多说和友言评论，代码逻辑和配置也做了些优化，应该是比较完善了。简单分离整理一下，分享于此，方便大家添加到自己制作或使用的主题中。","text":"前言目前自己的主题 Yelee 已支持使用 Disqus, 多说和友言评论，代码逻辑和配置也做了些优化，应该是比较完善了。简单分离整理一下，分享于此，方便大家添加到自己制作或使用的主题中。 文件结构参考以下文件结构把复制的代码和下载的文件放到合适的位置，必要时自行修改文件引用位置。 12345yelee/_config.yml-----/layout/_partial/article.ejs---------------------/comments/disqus.ejs------------------------------/duoshuo.ejs------------------------------/youyan.ejs 文件下载 Hexo 评论模块（Disqus, 多说, 友言）.zip by MOxFIVE 关联模块在合适位置添加以下代码，以便引入评论模块代码。代码使用我比较熟悉的 EJS 书写，使用 Swig, Jade 等其他模板的，请自行转换。 12345678910111213141516171819&lt;% if (!is_home() &amp;&amp; post.comments)&#123; %&gt; &lt;% if (theme.duoshuo.on) &#123; %&gt; &lt;%- partial('comments/duoshuo', &#123; key: post.path, title: post.title, url: config.url+url_for(post.path), &#125;) %&gt; &lt;% &#125; else if (theme.youyan.on) &#123; %&gt; &lt;%- partial('comments/youyan') %&gt; &lt;% &#125; else if (theme.disqus.on) &#123; %&gt; &lt;%- partial('comments/disqus', &#123; shortname: theme.disqus.shortname &#125;) %&gt; &lt;% &#125; else if (config.disqus_shortname) &#123; %&gt; &lt;%- partial('comments/disqus', &#123; shortname: config.disqus_shortname &#125;) %&gt; &lt;% &#125; %&gt;&lt;% &#125; %&gt; 代码简析1234567891011121314151617181920212223242526&lt;!--//如果不是首页且没使用 `comments: false` 关闭评论，则尝试加载评论 --&gt;&lt;% if (!is_home() &amp;&amp; post.comments)&#123; %&gt; &lt;!--//配置中启用多说时，导入相应代码 --&gt; &lt;% if (theme.duoshuo.on) &#123; %&gt; &lt;!--//导入duoshuo.ejs时，同时指定其中几个变量的内容。 --&gt; &lt;%- partial('comments/duoshuo', &#123; key: post.path, title: post.title, url: config.url+url_for(post.path), &#125;) %&gt; &lt;!--//配置中仅启用友言时，导入相应代码 --&gt; &lt;% &#125; else if (theme.youyan.on) &#123; %&gt; &lt;%- partial('comments/youyan') %&gt; &lt;!--//配置中仅启用 Disqus 时，导入相应代码 --&gt; &lt;% &#125; else if (theme.disqus.on) &#123; %&gt; &lt;%- partial('comments/disqus', &#123; shortname: theme.disqus.shortname &#125;) %&gt; &lt;!--//以上皆关闭且 Hexo 配置中设置了 disqus_shortname 时，导入相应代码 --&gt; &lt;% &#125; else if (config.disqus_shortname) &#123; %&gt; &lt;!--//文件分离和变量的使用，使代码能较好的兼容 Hexo 主配置 --&gt; &lt;%- partial('comments/disqus', &#123; shortname: config.disqus_shortname &#125;) %&gt; &lt;% &#125; %&gt;&lt;% &#125; %&gt; 新评论系统添加 如果你想使用畅言或者其他社会化评论系统，并能灵活切换，请参考上文，新加一个 else if 判断引入服务商提供的代码，同时参考后文的配置添加新的设置项。 配置更新在主题中添加以下设置项进行评论功能的配置。评论设置为二级选项，因为之前不少人设置了 duoshuo: true ，结果都进群聊了。要启用某一个评论系统，只需去掉 on 前的 “#”，同时按照说明设置好对应个人账号信息即可。 1234567891011121314151617181920212223242526# &gt;&gt;&gt; Conments 评论系统 &lt;&lt;&lt;# Chose ONE as your comment system and keep others disable.# 选一个作为网站评论系统，其他保持禁用。disqus: #on: true shortname: # https://help.disqus.com/customer/en/portal/articles/466208-what-s-a-shortname- # It is unnecessary to enable disqus here if # you have set \"disqus_shortname\" in your site's \"_config.yml\" duoshuo: #on: true domain: # 是否开启多说评论，http://duoshuo.com/create-site/ # 使用上面网址登陆你的多说，然后创建站点，在 domain 中填入你设定的域名前半部分 # http://&lt;要填的部分&gt;.duoshuo.com (domain只填上&lt;&gt;里的内容，不要填整个网址)youyan: #on: true id: # 是否开启友言评论，http://www.uyan.cc/index.php # id 中填写你的友言用户数字ID，注册后进入后台管理即可查看 # 友言服务在 Web 环境下运行，普通本地环境无法查看，请部署后在线上测试。# &gt;&gt;&gt; &lt;&lt;&lt; 模块代码模块代码已附在下载文件中，在此同时列出备用。依旧是使用 EJS 编写，引入一些信息，设置了几个变量，使用其他模板引擎请自行转换。所有评论模块都设置了 id=&quot;comments&quot;，以便有需要时通过锚点定位跳转到评论区。 Disqus123456789101112131415&lt;section id=\"comments\"&gt; &lt;div id=\"disqus_thread\"&gt;&lt;/div&gt; &lt;script type=\"text/javascript\"&gt; /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */ var disqus_shortname = '&lt;%= shortname%&gt;'; // required: replace example with your forum shortname /* * * DON'T EDIT BELOW THIS LINE * * */ (function() &#123; var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); &#125;)(); &lt;/script&gt; &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=\"https://disqus.com/?ref_noscript\"&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;&lt;/section&gt; 多说评论123456789101112131415161718&lt;div class=\"duoshuo\" id=\"comments\"&gt; &lt;!-- 多说评论框 start --&gt; &lt;div class=\"ds-thread\" data-thread-key=\"&lt;%= key%&gt;\" data-title=\"&lt;%= title%&gt;\" data-url=\"&lt;%= url%&gt;\"&gt;&lt;/div&gt; &lt;!-- 多说评论框 end --&gt; &lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt; &lt;script type=\"text/javascript\"&gt; var duoshuoQuery = &#123;short_name:\"&lt;%= theme.duoshuo.domain%&gt;\"&#125;; (function() &#123; var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); &#125;)(); &lt;/script&gt; &lt;!-- 多说公共JS代码 end --&gt;&lt;/div&gt; 友言评论1234&lt;section class=\"youyan\" id=\"comments\"&gt; &lt;div id=\"uyan_frame\"&gt;&lt;/div&gt; &lt;script src=\"http://v2.uyan.cc/code/uyan.js?uid=&lt;%= theme.youyan.id%&gt;\"&gt;&lt;/script&gt;&lt;/section&gt; 相关链接 多说评论: http://duoshuo.com/ 友言评论: http://www.uyan.cc/ Disqus: https://disqus.com/ refactor: comments code &amp; configuration 评论模块优化 by MOxFIVE on 2016/01/01: https://github.com/MOxFIVE/hexo-theme-yelee/commit/3138ca36bd209fd9f79b60fbb6b15b44673560b5","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"}]},{"title":"关于 Hexo 配置文件中的 true 和 false","slug":"hexo-config-true-false","date":"2016-01-01T15:55:13.000Z","updated":"2016-06-27T12:27:06.259Z","comments":true,"path":"2016/01/01/hexo-config-true-false/","link":"","permalink":"http://xiahl.top/next/2016/01/01/hexo-config-true-false/","excerpt":"在使用文件 “_config.yml” 对 Hexo 进行配置时，大家习惯于填写 true 和 false 来启用/停用某个功能模块。不过还有几种方法可以表示逻辑真假(boolean)，掌握后可以更灵活地进行功能配置。","text":"在使用文件 “_config.yml” 对 Hexo 进行配置时，大家习惯于填写 true 和 false 来启用/停用某个功能模块。不过还有几种方法可以表示逻辑真假(boolean)，掌握后可以更灵活地进行功能配置。 false如果配置文件中有一个选项 search_box，那下面几种写法都表示该选项逻辑值为假：false。 即当使用 if (theme.search_box) 进行判断时返回 false. 1－常规写法 1search_box: false 2－前面加 “#”，把该选项变为注释，判断时自然也就 false 了 1#search_box: false 3－用 0 代替。填写 0 时（不含引号），该项会被判断为 false 1search_box: 0 4－选项留空。留空默认也会判断为 false 1search_box: true下面几种写法都表示该选项逻辑值为假：true。即当使用 if (theme.search_box) 进行判断时返回 true. 1－常规写法 1search_box: true 2－用 1 代替。填 1 时，该项会被判断为 true 1search_box: 1 3－填 0 之外的其他字符，通常也会被判断为 true 123search_box: Hexo Yeleesearch_box: 998search_box: \"0\" 后记为了减少误解，在 Yelee 主题的配置中我基本还是使用常规写法。如果大家都能了解这些写法的话，应该能更开心地折腾 Hexo。对配置还有兴趣的，可以去看看 YAML 语法说明，Hexo 的配置文件默认就是使用 YAML 编写。","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"}]},{"title":"将 Hexo 博客部署到 GitHub Pages","slug":"hexo-deployment","date":"2015-11-04T14:50:51.000Z","updated":"2016-06-27T12:27:01.954Z","comments":true,"path":"2015/11/04/hexo-deployment/","link":"","permalink":"http://xiahl.top/next/2015/11/04/hexo-deployment/","excerpt":"因为还没有一篇教程能让我依次操作后顺利完成部署，索性简单记录自己的操作步骤备用了。","text":"因为还没有一篇教程能让我依次操作后顺利完成部署，索性简单记录自己的操作步骤备用了。 安装 Git 插件Hexo 目前没有自带 Git 部署模块，需手动安装: 1npm install hexo-deployer-git --save 部署配置将博客部署到 GitHub Pages: 12345deploy: type: git message: [message] repo: github: &lt;repository url&gt;,[branch] 12# &lt;!-- 自用地址 --&gt;github: git@github.com:MOxFIVE/MOxFIVE.github.io.git,master Git 个人信息配置漏了这步最后部署可能遇到问题: 1git config --global user.name &quot;用户名&quot; 1git config --global user.email &quot;邮箱地址&quot; 123# &lt;!-- 自用配置 --&gt;git config --global user.name \"MOxFIVE\"git config --global user.email \"mo@outlook.com\" 添加 SSH 公匙为了方便部署时跳过密码一步到位: 生成并进入 SSH 目录 12mkdir ~/.sshcd ~/.ssh 生成密匙，一路回车 1ssh-keygen -t rsa -C &quot;邮件地址&quot; 打开生成的 id_rsa.pub，将其中的 全部 内容复制添加为 GitHub 的 SSH 密匙 1cat id_rsa.pub 部署博客 可省，但先运行这步可避免不少问题 1hexo clean 直接执行hexo d，会自动生成静态文件然后进行部署 1hexo d 首次部署需在弹出框输入 yes 继续，之后畅通无阻 参考资料 Hexo 部署: https://hexo.io/zh-cn/docs/deployment.html hexo-deployer-git: https://github.com/hexojs/hexo-deployer-git 添加 SSH 公钥 by GitCafe on 2015: https://help.gitcafe.com/manuals/help/ssh-key 将Hexo部署到GitCafe by 盛夏 on 2014/9/18: http://www.sumrday.com/2014/09-18-Hello-Hexo.html 让GitCafe项目托管变成外链空间 by 遊離式 on 2012/11/7: http://u-lis.com/archives/2417","categories":[{"name":"自用笔记","slug":"自用笔记","permalink":"http://xiahl.top/categories/自用笔记/"},{"name":"术业专攻","slug":"自用笔记/术业专攻","permalink":"http://xiahl.top/categories/自用笔记/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"},{"name":"GitHub","slug":"GitHub","permalink":"http://xiahl.top/tags/GitHub/"}]},{"title":"让 Hexo 自动生成 Tag Cloud 标签云页面","slug":"hexo-tag-cloud","date":"2015-10-25T04:08:49.000Z","updated":"2016-06-27T12:26:52.240Z","comments":true,"path":"2015/10/25/hexo-tag-cloud/","link":"","permalink":"http://xiahl.top/next/2015/10/25/hexo-tag-cloud/","excerpt":"前言参看上篇 创建404页面 的文章，我们可以轻易地创建一个链接为 http://&quot;主页&quot;/tags/ 的页面，然后编辑对应 .md 文件设置样式。在此基础上，我们还需要在主题 layout 布局中添加代码，引入辅助函数，才能自动生成所需的标签云页面。下面简单介绍下实现过程。","text":"前言参看上篇 创建404页面 的文章，我们可以轻易地创建一个链接为 http://&quot;主页&quot;/tags/ 的页面，然后编辑对应 .md 文件设置样式。在此基础上，我们还需要在主题 layout 布局中添加代码，引入辅助函数，才能自动生成所需的标签云页面。下面简单介绍下实现过程。 匹配页面在主题文章的 layout 中合适位置插入下列 if 语句，让代码只在标签云页面生效。 1234&lt;!-- page.path 表示不含根路径的页面网址。还有数种方式可以匹配页面，在此不赘述。 --&gt;&lt;% if (page.path === \"tags/index.html\")&#123; %&gt; &lt;引入 tags 页面的代码&gt;&lt;% &#125; %&gt; 以主题 Yelee 为例，须在 /layout/_partial/article.ejs, div article-entry 中插入代码。 12345678910&lt;div class=\"article-entry\" itemprop=\"articleBody\"&gt; &lt;% if (post.excerpt &amp;&amp; index)&#123; %&gt; &lt;%- post.excerpt %&gt; &lt;% &#125; else &#123; %&gt; &lt;% if (page.path === \"tags/index.html\")&#123; %&gt; &lt;引入 tags 页面的代码&gt; &lt;% &#125; %&gt; &lt;%- post.content %&gt; &lt;% &#125; %&gt;&lt;/div&gt; 插入标签云使用 Hexo 辅助函数 &lt;%- tagcloud([tags], [options]) %&gt; 插入标签云，参数详解请查看 官方文档。 12345678&lt;%- tagcloud(&#123; min_font: 16, max_font: 35, amount: 999, color: true, start_color: 'gray', end_color: 'black',&#125;) %&gt; 自定义样式审查元素，按需修改相关样式。下面是目前本博客 标签云页面 所添加的代码，附上供参考。 /layout/_partial/article.ejstag cloud page123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;% if (page.path === \"tags/index.html\")&#123; %&gt; &lt;hr&gt; &lt;br&gt; &lt;%- list_categories(&#123; depth: 1, &#125;) %&gt; &lt;div class=\"tags\"&gt; &lt;%- tagcloud(&#123; min_font: 16, max_font: 35, amount: 999, color: true, start_color: 'gray', end_color: 'black', &#125;) %&gt; &lt;/div&gt; &lt;style&gt; .category-list li&#123; display: inline-block; margin: 0 1em .5em 0; padding: 4px; border: 1px solid lightgray; font-size: 1.2em; &#125; .category-list a &#123; color: gray; &#125; .category-list-item:hover a &#123; color: gray; text-decoration: none; font-weight: bold; &#125; .category-list-count &#123; margin-left: 2px; font-size: .9em; &#125; .article-entry ul li:before&#123; display: none; &#125; .article-inner &#123; text-align: center; &#125; .tags &#123; max-width: 40em; margin: 2em auto; margin-top: 0em; &#125; .tags a &#123; margin-right: 1em; border-bottom: 1px solid gray; line-height: 65px; white-space: nowrap; &#125; .tags a:hover &#123; border-bottom: 2px solid black; font-style: italic; text-decoration: none; &#125; &lt;/style&gt;&lt;% &#125; %&gt; 知道怎么在特定页面中引入 Hexo 自带的函数和变量后，大家应该就可以比较自在地在文章中引入需要的内容了，标签列表，文章列表，文章地址，日期时间等都可以。 参考资料 tagcloud: 插入标签云 by Hexo on 2015: https://hexo.io/zh-cn/docs/helpers.html#tagcloud 变量使用 by Hexo on 2015: https://hexo.io/zh-cn/docs/variables.html feat: tags cloud page 标签云页面 by MOxFIVE on 2015/10/12: https://github.com/MOxFIVE/hexo-theme-yelee/commit/3a82bb65b325826b3f71cae10e39e5314ccb63cb 统计分类及标签数 by MOxFIVE on 2015/12/1: https://github.com/MOxFIVE/hexo-theme-yelee/commit/56abe4226454571335a62120ab404792f274437f","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"},{"name":"TagCloud","slug":"TagCloud","permalink":"http://xiahl.top/tags/TagCloud/"}]},{"title":"在 Hexo 中创建匹配主题的404页面","slug":"hexo-404-page","date":"2015-10-15T16:23:39.000Z","updated":"2016-07-02T02:15:07.568Z","comments":true,"path":"2015/10/16/hexo-404-page/","link":"","permalink":"http://xiahl.top/next/2015/10/16/hexo-404-page/","excerpt":"通常，对于绑定了顶级域名的 Hexo 博客来说，只需在所用主题的source文件夹下新建一个404.html文件，再生成部署到云端，即可生成博客404页面。但这种方法生成的页面是孤立的，下面介绍一种生成匹配主题的404页面的方法。","text":"通常，对于绑定了顶级域名的 Hexo 博客来说，只需在所用主题的source文件夹下新建一个404.html文件，再生成部署到云端，即可生成博客404页面。但这种方法生成的页面是孤立的，下面介绍一种生成匹配主题的404页面的方法。 新建404页面 启动 Git Bash，进入 Hexo 所在文件夹，输入 hexo new page 404 ; 打开刚新建的页面文件，默认在 Hexo 文件夹根目录下 /source/404/index.md； 在顶部插入一行，写上permalink: /404，这表示指定该页固定链接为 http://&quot;主页&quot;/404.html 12345title: 404 Not Found：该页无法显示toc: falsecomments: falsepermalink: /404--- 自定义页面样式 经过上面的设置后，404界面已生效，其编辑方式与一般文章无异。我们可以在.md文件正文中插入一些 CSS 样式，使得该页面与博客中的一般文章有所区别。下面是我个人为配合本博客主题所设置的一些样式，仅供参考，具体修改自行审查所用主题。 http://moxfive.xyz/举个404页面栗子 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162title: 404 Not Found：该页无法显示toc: falsecomments: falsepermalink: /404---&lt;style type=\"text/css\"&gt; .article-header &#123; padding: 0; padding-top: 26px; border-left: none; text-align: center; &#125; .article-header:hover &#123; border-left: none; &#125; .article-title &#123; font-size: 2.1em; &#125; strong a &#123; color: #747474; &#125; .article-meta &#123; display: none; &#125; .share &#123; display: none; &#125; .ds-meta &#123; display: none; &#125; .player &#123; margin-left: -10px; &#125; .sign &#123; text-align: right; font-style: italic; &#125; #page-visit &#123; display: none; &#125; .center &#123; text-align: center; height: 2.5em; font-weight: bold; &#125; .article-entry hr &#123; margin: 0; &#125; .pic &#123; text-align: center; margin: 0; &#125; .pic br &#123; display: none; &#125; #container .article-info-post.article-info &#123; display: none; &#125; #container .article .article-title &#123; padding: 0; &#125;&lt;/style&gt; 参考资料 Custom 404 Pages by GitHub Help on 2015: https://help.github.com/articles/custom-404-pages/","categories":[{"name":"术业专攻","slug":"术业专攻","permalink":"http://xiahl.top/categories/术业专攻/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://xiahl.top/tags/Hexo/"},{"name":"CSS","slug":"CSS","permalink":"http://xiahl.top/tags/CSS/"}]}]}